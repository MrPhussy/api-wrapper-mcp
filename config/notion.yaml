# Notion API Configuration
server:
  name: "Notion MCP"
  description: "MCP server for interacting with Notion workspace"
  version: "1.0.0"

auth:
  token_env_var: "NOTION_API_KEY"

tools:
  - name: "notion-search"
    description: "Search pages and databases in Notion"
    endpoint: "https://api.notion.com/v1/search"
    method: "POST"
    timeout: 30
    headers:
      Notion-Version: "2022-06-28"
      Authorization: "Bearer {{env:NOTION_API_KEY}}"
    template: |
      {
        "query": "{{.query}}",
        "page_size": {{.page_size}}
      }
    parameters:
      query:
        type: "string"
        description: "Search query text"
        required: true
      page_size:
        type: "number"
        description: "Number of results to return"
        default: 10

  - name: "notion-get-page"
    description: "Retrieve a page's properties"
    endpoint: "https://api.notion.com/v1/pages/{{.page_id}}"
    method: "GET"
    timeout: 30
    headers:
      Notion-Version: "2022-06-28"
      Authorization: "Bearer {{env:NOTION_API_KEY}}"
    parameters:
      page_id:
        type: "string"
        description: "The ID of the page to retrieve"
        required: true

  - name: "notion-create-page"
    description: "Create a new page in a database"
    endpoint: "https://api.notion.com/v1/pages"
    method: "POST"
    timeout: 30
    headers:
      Notion-Version: "2022-06-28"
      Authorization: "Bearer {{env:NOTION_API_KEY}}"
    template: |
      {
        "parent": { "database_id": "{{.database_id}}" },
        "properties": {
          "Name": {
            "title": [
              {
                "text": {
                  "content": "{{.title}}"
                }
              }
            ]
          }
        }
      }
    parameters:
      database_id:
        type: "string"
        description: "The ID of the parent database"
        required: true
      title:
        type: "string"
        description: "Title of the new page"
        required: true
